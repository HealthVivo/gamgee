language: cpp

env:
  global: 
    - secure: "gFJsmma5duxLv+bcn5Qvq6M9r3w0XZZ/GVlolSX3t3rlyqyGwEiN71F7+8Rtv+pzgUaMELKuA8JO+x6ZpOCnMCa/RB/TV6KJrZ31UPfV7BJjt6QzWWPMlkT+3i+pM3PUVoN1zTojz+SE9pMhyILeIx+23S/8mHGXmmIW1Es001I="

compiler: 
  - clang

before_install:
  - sudo add-apt-repository -y ppa:boost-latest/ppa
  - sudo add-apt-repository -y ppa:h-rayflood/llvm
  - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
  - sudo apt-get -qq update;

install:
  - if [ "$CXX" == "g++" ]; then TOOLSET=gcc; sh .travis_scripts/gcc.sh; fi
  - if [ "$CXX" == "clang++" ]; then TOOLSET=clang; sh .travis_scripts/clang.sh; fi
  - sh .travis_scripts/boost.sh

script:
  - b2 -a toolset=$TOOLSET test

after_success:
  - if [ "$CXX" == "clang++" ] && [ "$TRAVIS_BRANCH" == "master" ]; then sh .travis_scripts/update_website_dox.sh ${GH_TOKEN} ${TRAVIS_BUILD_NUMBER}; fi
